<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- [SEO] 基础SEO标签 -->
    <title>我的个性化导航站</title> <!-- 将由JS动态更新 -->
    <meta name="description" content="一个完全自由定制的导航网站。支持拖拽排序、增删模块、主题切换和配置导入导出，打造属于你自己的浏览器首页。">
    <meta name="keywords" content="导航站, 网址导航, 自定义首页, 浏览器主页, 个性化, 程序员导航, 设计师导航, AI工具, 开源, Startpage, Homepage">
    <meta name="author" content="你的名字或ID">
    <meta name="robots" content="index, follow">

    <!-- [SEO] Open Graph / Facebook / 微信 -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://你的用户名.github.io/你的仓库名/">
    <meta property="og:title" content="我的完全个性化导航站">
    <meta property="og:description" content="一个完全自由定制的导航网站。支持拖拽排序、增删模块、主题切换和配置导入导出。">
    <meta property="og:image" content="https://你的预览图链接/preview.png">

    <!-- [SEO] Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://你的用户名.github.io/你的仓库名/">
    <meta property="twitter:title" content="我的完全个性化导航站">
    <meta property="twitter:description" content="一个完全自由定制的导航网站。支持拖拽排序、增删模块、主题切换和配置导入导出。">
    <meta property="twitter:image" content="https://你的预览图链接/preview.png">

    <!-- [SEO] Favicon - 请使用 realfavicongenerator.net 生成并替换 -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <style>
        /* CSS代码与上一版完全相同，此处省略以节约篇幅，请直接使用上一版的CSS */
        :root, body[data-theme='default'] { --primary-color: #007bff; --bg-color: #f4f6f9; --card-bg-color: #ffffff; --text-color: #333; --text-secondary-color: #6c757d; --border-color: #e9ecef; --shadow-color: rgba(0, 0, 0, 0.05); --danger-color: #dc3545; --success-color: #28a745; }
        body[data-theme='dark'] { --primary-color: #4dabf7; --bg-color: #121212; --card-bg-color: #1e1e1e; --text-color: #e0e0e0; --text-secondary-color: #a0a0a0; --border-color: #333; --shadow-color: rgba(0, 0, 0, 0.2); --danger-color: #f06565; --success-color: #48cfae; }
        body[data-theme='retro'] { --primary-color: #c08d5d; --bg-color: #fdf6e3; --card-bg-color: #fbf1c7; --text-color: #654321; --text-secondary-color: #928374; --border-color: #d5c4a1; --shadow-color: rgba(146, 131, 116, 0.1); --danger-color: #c0392b; --success-color: #27ae60; }
        body[data-theme='hacker'] { --primary-color: #00ff00; --bg-color: #000; --card-bg-color: #0d0d0d; --text-color: #00ff00; --text-secondary-color: #00cc00; --border-color: #003300; --shadow-color: rgba(0, 255, 0, 0.1); --danger-color: #ff0000; --success-color: #00ff00; }
        * { margin: 0; padding: 0; box-sizing: border-box; } html { scroll-behavior: smooth; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; transition: background-color 0.3s, color 0.3s; }
        a { text-decoration: none; color: var(--primary-color); transition: color 0.2s ease; } a:hover { color: color-mix(in srgb, var(--primary-color) 80%, black); }
        button { cursor: pointer; border: none; background: none; font-family: inherit; }
        .container { display: flex; max-width: 1600px; margin: 0 auto; }
        .sidebar { width: 220px; height: 100vh; position: sticky; top: 0; background-color: var(--card-bg-color); border-right: 1px solid var(--border-color); padding: 20px 0; overflow-y: auto; flex-shrink: 0; display: flex; flex-direction: column; transition: background-color 0.3s; }
        .sidebar-title { display: flex; justify-content: space-between; align-items: center; font-size: 1.5em; font-weight: 600; padding: 0 20px 10px; border-bottom: 1px solid var(--border-color); margin-bottom: 10px; }
        .sidebar-title .title-content { flex-grow: 1; } .sidebar-title .title-content img { max-height: 28px; vertical-align: middle; }
        .sidebar nav { flex-grow: 1; } .sidebar nav ul { list-style: none; }
        .sidebar nav a { display: block; padding: 10px 20px; color: var(--text-secondary-color); font-weight: 500; border-left: 3px solid transparent; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .sidebar nav a:hover { color: var(--primary-color); background-color: var(--bg-color); }
        .sidebar-actions { padding: 10px 20px; border-top: 1px solid var(--border-color); }
        .sidebar-btn { display: flex; align-items: center; gap: 8px; width: 100%; padding: 10px; font-size: 1em; color: var(--text-secondary-color); border-radius: 6px; transition: all 0.2s; margin-top: 5px; }
        .sidebar-btn:hover { background-color: var(--bg-color); color: var(--primary-color); } .sidebar-btn svg { width: 18px; height: 18px; flex-shrink: 0; }
        .main-content { position: relative; flex-grow: 1; padding: 30px; }
        .content-section { margin-bottom: 50px; background: var(--card-bg-color); padding: 20px; border-radius: 8px; border: 1px solid transparent; transition: background-color 0.3s; }
        .section-header { display: flex; align-items: center; gap: 10px; margin-bottom: 25px; padding-bottom: 10px; border-bottom: 2px solid var(--border-color); }
        .section-header h2 { font-size: 2em; color: var(--text-color); flex-grow: 1; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .card { background-color: var(--card-bg-color); border-radius: 8px; border: 1px solid var(--border-color); padding: 20px; box-shadow: 0 2px 8px var(--shadow-color); display: flex; flex-direction: column; }
        .card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .card-header h3 { font-size: 1.25em; color: var(--text-color); flex-grow: 1; }
        .card ul { list-style: none; } .link-list-default { display: flex; flex-wrap: wrap; gap: 10px; }
        .link-list-columns { column-count: 2; column-gap: 20px; }
        .card li { break-inside: avoid-column; page-break-inside: avoid; position: relative; margin-bottom: 10px; }
        .card li a { display: block; background-color: var(--bg-color); padding: 6px 12px; border-radius: 15px; font-size: 0.9em; color: var(--text-secondary-color); transition: all 0.2s; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .card li a:hover { background-color: var(--primary-color); color: #fff; }
        .controls, .drag-handle, .add-item-btn, #add-category-btn-container, .custom-link-actions { display: none; }
        body.edit-mode .controls, body.edit-mode .drag-handle, body.edit-mode .add-item-btn, body.edit-mode #add-category-btn-container { display: block; }
        body.edit-mode .drag-handle { cursor: move; color: var(--text-secondary-color); font-size: 20px; }
        body.edit-mode .card li:hover .custom-link-actions { display: flex; }
        body.edit-mode .content-section { border: 2px dashed var(--primary-color); }
        .sortable-ghost { opacity: 0.4; background: #c8ebfb; }
        #edit-mode-btn.active { background-color: var(--primary-color); color: white; }
        .controls { align-items: center; gap: 8px; flex-shrink: 0;}
        .control-btn { font-size: 16px; color: var(--text-secondary-color); transition: color 0.2s; line-height: 1; padding: 4px; border-radius: 4px; }
        .control-btn:hover { background-color: var(--bg-color); }
        .custom-link-actions { position: absolute; top: 50%; right: 5px; transform: translateY(-50%); gap: 4px; background: rgba(255,255,255,0.8); padding: 2px 5px; border-radius: 10px;}
        .link-action-btn { width: 20px; height: 20px; border-radius: 50%; background-color: rgba(0,0,0,0.6); color: white; font-size: 12px; display: flex; align-items: center; justify-content: center; line-height: 1; border: 1px solid white; }
        .add-item-btn button { width: 100%; padding: 8px; border: 1px dashed var(--border-color); border-radius: 6px; color: var(--text-secondary-color); transition: all 0.2s; }
        .add-item-btn button:hover { border-color: var(--primary-color); background-color: var(--bg-color); color: var(--primary-color); }
        .top-right-controls { position: absolute; top: 30px; right: 30px; display: flex; gap: 10px; align-items: center; background: var(--card-bg-color); padding: 5px 10px; border-radius: 20px; box-shadow: 0 2px 10px var(--shadow-color); z-index: 10; }
        .top-right-controls button { font-size: 16px; padding: 5px; color: var(--text-secondary-color); }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1000; display: none; align-items: center; justify-content: center; }
        .modal-content { background: var(--card-bg-color); padding: 25px; border-radius: 8px; width: 90%; max-width: 500px; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color); }
        .modal-header h3 { font-size: 1.5em; } .close-btn { font-size: 1.8em; line-height: 1; color: var(--text-secondary-color); }
        .setting-section { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color);}
        .setting-section:last-child { border-bottom: none; margin-bottom: 0; }
        .setting-section h4 { margin-bottom: 10px; font-size: 1.1em; }
        .modal-input { width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 5px; font-size: 1em; margin-bottom: 10px; background-color: var(--bg-color); color: var(--text-color); }
        .modal-btn { display: inline-block; padding: 8px 15px; border-radius: 5px; cursor: pointer; transition: background-color 0.2s; color: white; margin-right: 10px; margin-bottom: 5px;}
        #save-title-btn, #import-config-label, #import-bookmarks-label { background-color: var(--primary-color); }
        #export-btn { background-color: var(--success-color); } #reset-btn { background-color: var(--danger-color); }
        #import-config-input, #import-bookmarks-input { display: none; }
        .setting-note { font-size: 0.85em; color: var(--text-secondary-color); margin-top: 8px; }
        .theme-selector { display: flex; gap: 15px; } .theme-option { cursor: pointer; }
        .theme-swatch { width: 30px; height: 30px; border-radius: 50%; border: 2px solid var(--border-color); }
        .theme-option input { display: none; }
        .theme-option input:checked + .theme-swatch { border-color: var(--primary-color); transform: scale(1.1); box-shadow: 0 0 10px var(--primary-color); }
        #swatch-default { background: #f4f6f9; } #swatch-dark { background: #1e1e1e; }
        #swatch-retro { background: #fbf1c7; } #swatch-hacker { background: #0d0d0d; }
        @media (max-width: 992px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: sticky; top: 0; z-index: 100; flex-direction: row; align-items: center; padding: 0; }
            .sidebar-title { padding-left: 15px; padding-right: 15px; }
            .sidebar nav { flex-grow: 1; display: flex; overflow-x: auto; } .sidebar nav ul { display: flex; }
            .sidebar nav a { padding: 15px; border-left: none; border-bottom: 3px solid transparent; }
            .sidebar-actions { padding: 0 5px; border-top: none; border-left: 1px solid var(--border-color); display:flex; }
            .sidebar-btn { padding: 15px 10px; margin-top: 0; }
            .main-content { padding: 20px; padding-top: 70px; }
            .top-right-controls { top: 10px; right: 15px; }
            .card-grid { grid-template-columns: 1fr; }
            .link-list-columns { column-count: 1; }
        }
    </style>
</head>
<body>

    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-title" id="sidebar-title-container"></div>
            <nav id="sidebar-nav"></nav>
            <div class="sidebar-actions">
                <button id="edit-mode-btn" class="sidebar-btn" title="页面编辑">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" fill="currentColor"><path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 252.7l22.6-22.6zM120 352.9l-33.9 9.9 9.9-33.9 194.3-194.3 24 24-194.3 194.3zM352 152.9l24 24 24-24-24-24-24 24z"/></svg>
                </button>
                <button id="settings-btn" class="sidebar-btn" title="设置">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor"><path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9.9 15.9-19.4 15.9H181.8c-9.5 0-17.4-6.8-19.4-15.9l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L49.8 409.4c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C50.6 273.1 50 264.6 50 256s.6-17.1 1.7-25.4L7.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9.9-15.9 19.4-15.9h148.4c9.5 0 17.4 6.8 19.4 15.9l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>
                </button>
            </div>
        </aside>

        <main class="main-content"></main>
    </div>

    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h3>导航设置</h3><button class="close-btn" id="close-modal-btn">×</button></div>
            <div id="modal-body">
                <div class="setting-section">
                    <h4>主题选择</h4>
                    <div class="theme-selector" id="theme-selector">
                         <label class="theme-option"><input type="radio" name="theme" value="default"><div class="theme-swatch" id="swatch-default"></div></label>
                         <label class="theme-option"><input type="radio" name="theme" value="dark"><div class="theme-swatch" id="swatch-dark"></div></label>
                         <label class="theme-option"><input type="radio" name="theme" value="retro"><div class="theme-swatch" id="swatch-retro"></div></label>
                         <label class="theme-option"><input type="radio" name="theme" value="hacker"><div class="theme-swatch" id="swatch-hacker"></div></label>
                    </div>
                </div>
                <div class="setting-section">
                    <h4>网站标题</h4>
                    <p class="setting-note">设置显示在浏览器标签页上的网站标题。</p>
                    <input type="text" id="site-title-input" class="modal-input">
                    <button id="save-title-btn" class="modal-btn">保存标题</button>
                </div>
                 <div class="setting-section">
                    <h4>数据管理</h4>
                    <p class="setting-note">导出配置可备份您的所有布局和链接。导入配置会覆盖当前所有内容。</p>
                    <button id="export-btn" class="modal-btn">导出配置</button>
                    <label for="import-config-input" id="import-config-label" class="modal-btn">导入配置...</label>
                    <input type="file" id="import-config-input" accept=".json">
                    <button id="reset-btn" class="modal-btn">恢复默认</button>
                </div>
                <div class="setting-section">
                    <h4>书签工具</h4>
                    <p class="setting-note">从浏览器导出的HTML书签，将智能解析文件夹为卡片，并自动去重后添加到第一个分类中。</p>
                    <label for="import-bookmarks-input" id="import-bookmarks-label" class="modal-btn">导入HTML书签...</label>
                    <input type="file" id="import-bookmarks-input" accept=".html,.htm">
                </div>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- 1. 数据与设置管理 ---
    // JavaScript代码与上一版完全相同，此处省略以节约篇幅，请直接使用上一版的JS
    const defaultData = { settings: { lang: "zh", theme: "default" }, siteTitle: { zh: "我的个性化导航站", en: "My Personalized Startpage" }, sidebarTitle: { zh: "导航站", en: "Navigator" }, categories: [ { id: 'general-news', title: { zh: '综合资讯', en: 'General News' }, cards: [ { id: 'gn-1', title: { zh: '主流热点', en: 'Trending' }, links: [ { name: { zh: '微博-热搜', en: 'Weibo Hot' }, url: 'https://s.weibo.com/top/summary' }, { name: { zh: '百度-热搜', en: 'Baidu Hot' }, url: 'https://top.baidu.com/board?tab=realtime' }, { name: { zh: '今日头条-热榜', en: 'Toutiao' }, url: 'https://www.toutiao.com/trending/' }, { name: { zh: '抖音-热点榜', en: 'Douyin Hot' }, url: 'https://www.douyin.com/hot' }, { name: { zh: '快手-热榜', en: 'Kuaishou' }, url: 'https://www.kuaishou.com/brilliant' }, ]}, { id: 'gn-2', title: { zh: '深度阅读', en: 'In-Depth' }, links: [ { name: { zh: '知乎-热榜', en: 'Zhihu Hot' }, url: 'https://www.zhihu.com/hot' }, { name: { zh: '微信-热门', en: 'WeChat' }, url: 'https://weixin.sogou.com/' }, { name: { zh: '澎湃新闻-热榜', en: 'The Paper' }, url: 'https://www.thepaper.cn/hot-news' }, { name: { zh: '36氪-热榜', en: '36Kr' }, url: 'https://36kr.com/hot-list/zonghe' }, { name: { zh: '少数派-热榜', en: 'SSPAI' }, url: 'https://sspai.com/hot' }, { name: { zh: 'Readhub', en: 'Readhub' }, url: 'https://readhub.cn/' }, ]}, { id: 'gn-3', title: { zh: '百科知识', en: 'Wiki & Knowledge' }, links: [ { name: { zh: '历史上的今天', en: 'On This Day' }, url: 'https://www.todayonhistory.com/' }, { name: { zh: '百度-百科', en: 'Baidu Baike' }, url: 'https://baike.baidu.com/' }, { name: { zh: '维基百科-中文', en: 'Wikipedia (ZH)' }, url: 'https://zh.wikipedia.org/' }, { name: { zh: '知乎日报', en: 'Zhihu Daily' }, url: 'https://daily.zhihu.com/' }, ]} ] }, { id: 'ai-era', title: { zh: 'AI 纪元', en: 'AI Era' }, cards: [ { id: 'ai-1', title: { zh: 'AI 快讯', en: 'AI News' }, links: [ { name: { zh: '量子位-首页', en: 'QbitAI' }, url: 'https://www.qbitai.com/' }, { name: { zh: '机器之心-热榜', en: 'JiQZhiXin' }, url: 'https://www.jiqizhixin.com/hot-list' }, { name: { zh: 'APlay-AI日报', en: 'APlay Daily' }, url: 'https://www.aplay.ai/' }, { name: { zh: 'Hugging Face-趋势', en: 'HF Trending' }, url: 'https://huggingface.co/trending' }, ]}, { id: 'ai-2', title: { zh: 'AI 产品与应用', en: 'AI Products' }, links: [ { name: { zh: 'Product Hunt - AI', en: 'Product Hunt AI' }, url: 'https://www.producthunt.com/categories/artificial-intelligence' }, { name: { zh: 'There\'s An AI For That', en: 'TAAFT' }, url: 'https://theresanaiforthat.com/' }, { name: { zh: '未来百科', en: 'Futurepedia' }, url: 'https://www.futurepedia.io/' }, { name: { zh: 'Replicate - Explore', en: 'Replicate' }, url: 'https://replicate.com/explore' }, ]}, { id: 'ai-3', title: { zh: '前沿论文', en: 'Papers' }, links: [ { name: { zh: 'arXiv - 人工智能', en: 'arXiv - AI' }, url: 'https://arxiv.org/list/cs.AI/new' }, { name: { zh: 'Papers with Code', en: 'Papers with Code' }, url: 'https://paperswithcode.com/trending' }, ]} ] }, { id: 'tech-frontier', title: { zh: '科技前沿', en: 'Tech Frontier' }, cards: [ { id: 'tf-1', title: { zh: '科技门户', en: 'Tech Portals' }, links: [ { name: { zh: '虎嗅网-热榜', en: 'Huxiu' }, url: 'https://www.huxiu.com/hot.html' }, { name: { zh: 'IT之家-热榜', en: 'ITHOME' }, url: 'https://www.ithome.com/rank' }, { name: { zh: 'cnBeta-热门', en: 'cnBeta' }, url: 'https://hot.cnbeta.com/' }, { name: { zh: 'InfoQ-热点', en: 'InfoQ' }, url: 'https://www.infoq.cn/hot' }, { name: { zh: '开发者头条', en: 'Toutiao.io' }, url: 'https://toutiao.io/' }, ]}, { id: 'tf-2', title: { zh: '开发者社区', en: 'Dev Community' }, links: [ { name: { zh: 'GitHub-趋势', en: 'GitHub Trending' }, url: 'https://github.com/trending' }, { name: { zh: 'V2EX-最热', en: 'V2EX Hot' }, url: 'https://www.v2ex.com/?tab=hot' }, { name: { zh: '稀土掘金-热榜', en: 'Juejin Hot' }, url: 'https://juejin.cn/hot/articles' }, { name: { zh: 'CSDN-热榜', en: 'CSDN Hot' }, url: 'https://blog.csdn.net/hot-articles' }, { name: { zh: 'StackOverflow-热门', en: 'StackOverflow' }, url: 'https://stackoverflow.com/questions' }, { name: { zh: 'HelloGitHub', en: 'HelloGitHub' }, url: 'https://hellogithub.com/' }, ]}, { id: 'tf-3', title: { zh: '硬核极客', en: 'Geeks' }, links: [ { name: { zh: '吾爱破解-热帖', en: '52Pojie' }, url: 'https://www.52pojie.cn/forum.php?mod=guide&view=hot' }, { name: { zh: 'Chiphell-热帖', en: 'Chiphell' }, url: 'https://www.chiphell.com/forum.php?mod=guide&view=hot' }, { name: { zh: 'FreeCodeCamp', en: 'FreeCodeCamp' }, url: 'https://www.freecodecamp.org/news/' }, ]} ] }, { id: 'career-growth', title: { zh: '职场成长', en: 'Career Growth' }, cards: [ { id: 'cg-1', title: { zh: '行业洞察', en: 'Insights' }, links: [ { name: { zh: '脉脉-热榜', en: 'Maimai' }, url: 'https://maimai.cn/web/gossip/' }, { name: { zh: '领英-每日必读', en: 'LinkedIn News' }, url: 'https://www.linkedin.com/news/' }, { name: { zh: '第一财经', en: 'Yicai' }, url: 'https://www.yicai.com/' }, { name: { zh: '华尔街见闻', en: 'Wallstreetcn' }, url: 'https://wallstreetcn.com/' }, ]}, { id: 'cg-2', title: { zh: '求职招聘', en: 'Jobs' }, links: [ { name: { zh: '牛客网-讨论区', en: 'Nowcoder' }, url: 'https://www.nowcoder.com/discuss' }, { name: { zh: 'Boss直聘-资讯', en: 'Zhipin' }, url: 'https://www.zhipin.com/media/news/' }, { name: { zh: '拉勾-言职', en: 'Lagou' }, url: 'https://www.lagou.com/active' }, ]}, { id: 'cg-3', title: { zh: '创业与副业', en: 'Startups' }, links: [ { name: { zh: 'Indie Hackers', en: 'Indie Hackers' }, url: 'https://www.indiehackers.com/' }, { name: { zh: '小报童-热门', en: 'Xiaobot' }, url: 'https://xiaobot.net/hot_products' }, { name: { zh: '即刻-创业圈', en: 'Jike' }, url: 'https://web.okjike.com/discover' }, ]} ] }, { id: 'community-buzz', title: { zh: '社区热议', en: 'Community Buzz' }, cards: [ { id: 'cb-1', title: { zh: '综合讨论', en: 'General' }, links: [ { name: { zh: '虎扑-步行街', en: 'Hupu' }, url: 'https://bbs.hupu.com/all-gambia' }, { name: { zh: '贴吧-热议榜', en: 'Tieba' }, url: 'https://tieba.baidu.com/hottopic/browse/topicList' }, { name: { zh: 'NGA-热帖', en: 'NGA' }, url: 'https://bbs.nga.cn/thread.php?fid=-7' }, { name: { zh: 'Reddit-热门', en: 'Reddit' }, url: 'https://www.reddit.com/hot/' }, ]}, { id: 'cb-2', title: { zh: '兴趣小组', en: 'Groups' }, links: [ { name: { zh: '豆瓣-小组', en: 'Douban' }, url: 'https://www.douban.com/group/explore' }, { name: { zh: '小红书-热门', en: 'Xiaohongshu' }, url: 'https://www.xiaohongshu.com/explore' }, { name: { zh: '即刻-圈子', en: 'Jike' }, url: 'https://web.okjike.com/discover' }, ]}, { id: 'cb-3', title: { zh: '怀旧社区', en: 'Vintage' }, links: [ { name: { zh: '水木社区-热点', en: 'NewSMTH' }, url: 'https://www.newsmth.net/nForum/#!hot' }, { name: { zh: '果壳热点', en: 'Guokr' }, url: 'https://www.guokr.com/hot/' }, ]} ] }, { id: 'entertainment-lifestyle', title: { zh: '娱乐生活', en: 'Entertainment' }, cards: [ { id: 'el-1', title: { zh: '影音热榜', en: 'Video/TV' }, links: [ { name: { zh: '哔哩哔哩-热门', en: 'Bilibili' }, url: 'https://www.bilibili.com/v/popular/all' }, { name: { zh: '豆瓣-新片榜', en: 'Douban Movie' }, url: 'https://movie.douban.com/chart' }, { name: { zh: '微博-超话', en: 'Weibo Topic' }, url: 'https://weibo.com/p/100808_-_chaohua' }, { name: { zh: '猫眼-电影榜', en: 'Maoyan' }, url: 'https://www.maoyan.com/board' }, { name: { zh: '腾讯视频-热搜', en: 'Tencent Video' }, url: 'https://v.qq.com/x/hotlist/' }, { name: { zh: '爱奇艺-热播', en: 'iQIYI' }, url: 'https://www.iqiyi.com/rank/' }, ]}, { id: 'el-2', title: { zh: '游戏世界', en: 'Gaming' }, links: [ { name: { zh: 'Steam-热销榜', en: 'Steam' }, url: 'https://store.steampowered.com/search/?filter=topsellers' }, { name: { zh: 'TapTap-热门榜', en: 'TapTap' }, url: 'https://www.taptap.cn/top/played' }, { name: { zh: '游民星空-热点', en: 'Gamersky' }, url: 'https://www.gamersky.com/news/' }, { name: { zh: '机核-资讯', en: 'Gcores' }, url: 'https://www.gcores.com/news' }, { name: { zh: 'IGN-热门', en: 'IGN' }, url: 'https://www.ign.com/' }, ]}, { id: 'el-3', title: { zh: '生活趣味', en: 'Lifestyle' }, links: [ { name: { zh: '下厨房-菜谱', en: 'Xiachufang' }, url: 'https://www.xiachufang.com/explore/' }, { name: { zh: '马蜂窝-游记', en: 'Mafengwo' }, url: 'http://www.mafengwo.cn/travel-scenic-spot/mafengwo/10186.html' }, { name: '煎蛋-无聊图', url: 'https://jandan.net/pic' }, { name: '糗事百科', url: 'https://www.qiushibaike.com/hot/' }, ]} ] }, { id: 'design-creativity', title: { zh: '灵感创意', en: 'Creativity' }, cards: [ { id: 'dc-1', title: { zh: '设计灵感', en: 'Design' }, links: [ { name: '站酷-人气榜', url: 'https://www.zcool.com.cn/discover/0!0!0!0!0!!!!-1!1' }, { name: 'Behance-精选', url: 'https://www.behance.net/galleries' }, { name: 'Dribbble-流行', url: 'https://dribbble.com/shots' }, { name: 'UI中国-推荐', url: 'https://www.ui.cn/' }, ]}, { id: 'dc-2', title: { zh: '创意发现', en: 'Discovery' }, links: [ { name: '花瓣-热门', url: 'https://huaban.com/discovery/' }, { name: 'LOFTER-插画榜', url: 'https://www.lofter.com/tag/插画' }, { name: 'Unsplash-热门', url: 'https://unsplash.com/' }, { name: 'Pixiv-日榜', url: 'https://www.pixiv.net/ranking.php' }, { name: '500px-流行', url: 'https://500px.com/popular' }, ]} ] }, { id: 'shopping-deals', title: { zh: '消费指南', en: 'Shopping' }, cards: [ { id: 'sd-1', title: { zh: '好价推荐', en: 'Deals' }, links: [ { name: '什么值得买', url: 'https://www.smzdm.com/haojia/' }, { name: '北美省钱快报', url: 'https://www.dealmoon.com/' }, { name: '雪球-热门', url: 'https://xueqiu.com/' }, ]}, { id: 'sd-2', title: { zh: '电商热卖', en: 'E-commerce' }, links: [ { name: '淘宝-热销', url: 'https://remai.taobao.com/' }, { name: '京东-热卖', url: 'https://www.jd.com/phb.html' }, { name: '拼多多-热榜', url: 'https://mobile.pinduoduo.com/ranking.html' }, { name: '亚马逊-图书', url: 'https://www.amazon.cn/gp/bestsellers/books' }, ]}, { id: 'sd-3', title: { zh: '品质生活', en: 'Quality Life' }, links: [ { name: '小米有品-热销', url: 'https://www.xiaomiyoupin.com/hot' }, { name: '网易严选-热销', url: 'https://you.163.com/' }, { name: '闲鱼-热门', url: 'https://g.alicdn.com/idle-fish-web/homepage/' }, ]} ] }, { id: 'global-view', title: { zh: '全球视野', en: 'Global View' }, cards: [ { id: 'gv-1', title: { zh: '国际通讯社', en: 'News Agencies' }, links: [ { name: '路透社 (Reuters)', url: 'https://www.reuters.com/' }, { name: '美联社 (AP)', url: 'https://apnews.com/' }, { name: 'BBC News', url: 'https://www.bbc.com/news' }, { name: '纽约时报 (NYT)', url: 'https://www.nytimes.com/' }, ]}, { id: 'gv-2', title: { zh: '科技与商业', en: 'Tech & Biz' }, links: [ { name: 'Hacker News', url: 'https://news.ycombinator.com/' }, { name: 'TechCrunch', url: 'https://techcrunch.com/' }, { name: 'The Verge', url: 'https://www.theverge.com/' }, { name: '彭博社 (Bloomberg)', url: 'https://www.bloomberg.com/' }, { name: '经济学人 (Economist)', url: 'https://www.economist.com/' }, ]} ] }, { id: 'academic-research', title: { zh: '学术探索', en: 'Academic' }, cards: [ { id: 'ar-1', title: { zh: '高校BBS', en: 'University BBS' }, links: [ { name: '北大未名BBS', url: 'https://bbs.pku.edu.cn/v2/home.php' }, { name: '清华水木社区', url: 'https://www.newsmth.net/' }, { name: '复旦日月光华', url: 'https://bbs.fudan.edu.cn/bbs/main' }, { name: '上交饮水思源', url: 'https://bbs.sjtu.edu.cn/' }, ]}, { id: 'ar-2', title: { zh: '学术资源', en: 'Resources' }, links: [ { name: '谷歌学术', url: 'https://scholar.google.com/' }, { name: '知网-热点文献', url: 'https://kns.cnki.net/kns/hotspot?type=0' }, ]} ] } ]
    };
    let appData;
    function loadData() {
        let data = localStorage.getItem('navData');
        if (data) { 
            appData = JSON.parse(data);
            if (!appData.settings || !appData.sidebarTitle) { // Backward compatibility
                const oldTitle = appData.siteTitle;
                appData = JSON.parse(JSON.stringify(defaultData));
                appData.siteTitle.zh = oldTitle || defaultData.siteTitle.zh;
                appData.siteTitle.en = oldTitle || defaultData.siteTitle.en;
            }
        } else { appData = JSON.parse(JSON.stringify(defaultData)); }
    }
    function saveData() { localStorage.setItem('navData', JSON.stringify(appData)); }
    const _t = (textObj) => { if(typeof textObj !== 'object' || textObj === null) return textObj; return textObj[appData.settings.lang] || textObj.zh || textObj.en || ''; }
    function applyTheme() { document.body.dataset.theme = appData.settings.theme; }
    const mainContent = document.querySelector('.main-content');
    const sidebarNav = document.getElementById('sidebar-nav');
    const sidebarTitleContainer = document.getElementById('sidebar-title-container');
    function renderAll() {
        applyTheme(); document.title = _t(appData.siteTitle);
        sidebarTitleContainer.innerHTML = `<div class="title-content">${_t(appData.sidebarTitle)}</div><div class="controls"><button class="control-btn" onclick="editSidebarTitle()">✏️</button></div>`;
        sidebarNav.innerHTML = `<ul>${appData.categories.map(c => `<li><a href="#${c.id}">${_t(c.title)}</a></li>`).join('')}</ul>`;
        renderMainContent();
    }
    function renderMainContent() {
        mainContent.querySelector('.top-right-controls')?.remove();
        const contentHTML = appData.categories.map((category, catIndex) => {
            const cardsHTML = category.cards.map((card, cardIndex) => {
                const listClass = card.links.length > 8 ? 'link-list-columns' : 'link-list-default';
                const linksHTML = card.links.map((link, linkIndex) => `<li><a href="${link.url}" target="_blank" title="${_t(link.name)}">${_t(link.name)}</a><div class="custom-link-actions"><button class="link-action-btn" title="编辑" onclick="editLink(${catIndex},${cardIndex},${linkIndex})">✏️</button><button class="link-action-btn" title="删除" onclick="deleteLink(${catIndex},${cardIndex},${linkIndex})">×</button></div></li>`).join('');
                return `<div class="card" data-card-index="${cardIndex}"><div class="card-header"><div class="drag-handle">⠿</div><h3>${_t(card.title)}</h3><div class="controls"><button title="上移" onclick="moveCard(${catIndex},${cardIndex},-1)">🔼</button><button title="下移" onclick="moveCard(${catIndex},${cardIndex},1)">🔽</button><button title="编辑" onclick="editCardTitle(${catIndex},${cardIndex})">✏️</button><button title="删除" onclick="deleteCard(${catIndex},${cardIndex})">❌</button></div></div><ul class="${listClass}">${linksHTML}</ul><div class="add-item-btn"><button onclick="addLink(${catIndex},${cardIndex})">+ ${_t({zh:"添加链接", en:"Add Link"})}</button></div></div>`;
            }).join('');
            return `<section id="${category.id}" class="content-section" data-cat-index="${catIndex}"><div class="section-header"><div class="drag-handle">⠿</div><h2>${_t(category.title)}</h2><div class="controls"><button title="上移" onclick="moveCategory(${catIndex},-1)">🔼</button><button title="下移" onclick="moveCategory(${catIndex},1)">🔽</button><button title="编辑" onclick="editCategoryTitle(${catIndex})">✏️</button><button title="删除" onclick="deleteCategory(${catIndex})">❌</button></div></div><div class="card-grid">${cardsHTML}</div><div class="add-item-btn"><button onclick="addCard(${catIndex})">+ ${_t({zh:"添加卡片", en:"Add Card"})}</button></div></section>`;
        }).join('') + `<div id="add-category-btn-container" class="add-item-btn"><button onclick="addCategory()">+ ${_t({zh:"添加分类", en:"Add Category"})}</button></div>`;
        mainContent.innerHTML = `<div class="top-right-controls"><button id="lang-switch-btn"></button><button id="theme-switch-btn"></button></div>` + contentHTML;
        updateTopControls();
    }
    const reRender = () => { saveData(); renderAll(); };
    const moveItem = (arr, from, to) => { const item = arr.splice(from, 1)[0]; arr.splice(to, 0, item); };
    const createI18nObject = (val) => ({ zh: val, en: val });
    window.editSidebarTitle = () => { const newTitle = prompt(`${_t({zh:"输入站点标识", en:"Enter site identity"})}:`, _t(appData.sidebarTitle)); if (newTitle !== null) { appData.sidebarTitle[appData.settings.lang] = newTitle; reRender(); }};
    window.addCategory = () => { const title = prompt("新分类标题:"); if(title) appData.categories.push({ id: `c_${Date.now()}`, title: createI18nObject(title), cards: [] }); reRender(); };
    window.deleteCategory = (i) => { if (confirm(`${_t({zh:"确认删除", en:"Confirm delete"})}: "${_t(appData.categories[i].title)}"?`)) { appData.categories.splice(i, 1); reRender(); }};
    window.editCategoryTitle = (i) => { const newTitle = prompt("新标题:", _t(appData.categories[i].title)); if(newTitle !== null) { appData.categories[i].title[appData.settings.lang] = newTitle; reRender(); }};
    window.moveCategory = (i, dir) => { const to = i + dir; if (to >= 0 && to < appData.categories.length) { moveItem(appData.categories, i, to); reRender(); } };
    window.addCard = (catIdx) => { const title = prompt("新卡片标题:"); if(title) { appData.categories[catIdx].cards.push({ id: `card_${Date.now()}`, title: createI18nObject(title), links: [] }); reRender(); }};
    window.deleteCard = (catIdx, cardIdx) => { if (confirm(`${_t({zh:"确认删除", en:"Confirm delete"})}: "${_t(appData.categories[catIdx].cards[cardIdx].title)}"?`)) { appData.categories[catIdx].cards.splice(cardIdx, 1); reRender(); }};
    window.editCardTitle = (catIdx, cardIdx) => { const newTitle = prompt("新标题:", _t(appData.categories[catIdx].cards[cardIdx].title)); if(newTitle !== null) { appData.categories[catIdx].cards[cardIdx].title[appData.settings.lang] = newTitle; reRender(); }};
    window.moveCard = (catIdx, cardIdx, dir) => { const cards = appData.categories[catIdx].cards; const to = cardIdx + dir; if(to >= 0 && to < cards.length) { moveItem(cards, cardIdx, to); reRender(); } };
    window.addLink = (catIdx, cardIdx) => { const name = prompt("网站名称:"); if(!name) return; const url = prompt("网站地址:", "https://"); if(!url) return; appData.categories[catIdx].cards[cardIdx].links.push({ name: createI18nObject(name), url }); reRender(); };
    window.editLink = (catIdx, cardIdx, linkIdx) => { const l = appData.categories[catIdx].cards[cardIdx].links[linkIdx]; const name = prompt("新名称:", _t(l.name)); if(name === null) return; const url = prompt("新地址:", l.url); if(url === null) return; l.name[appData.settings.lang] = name; l.url = url; reRender(); };
    window.deleteLink = (catIdx, cardIdx, linkIdx) => { if (confirm(`${_t({zh:"确认删除", en:"Confirm delete"})}: "${_t(appData.categories[catIdx].cards[cardIdx].links[linkIdx].name)}"?`)) { appData.categories[catIdx].cards[cardIdx].links.splice(linkIdx, 1); reRender(); }};
    
    const modal = document.getElementById('settings-modal');
    document.getElementById('settings-btn').addEventListener('click', () => { document.getElementById('site-title-input').value = _t(appData.siteTitle); document.querySelector(`.theme-option input[value="${appData.settings.theme}"]`).checked = true; modal.style.display = 'flex'; });
    document.getElementById('close-modal-btn').addEventListener('click', () => modal.style.display = 'none');
    modal.addEventListener('click', (e) => { if (e.target === modal) modal.style.display = 'none'; });
    
    document.getElementById('theme-selector').addEventListener('change', e => { appData.settings.theme = e.target.value; appData.settings.isDark = (e.target.value === 'dark' || e.target.value === 'hacker'); saveData(); applyTheme(); updateTopControls(); });
    document.getElementById('save-title-btn').addEventListener('click', () => { const newTitle = document.getElementById('site-title-input').value.trim(); if (newTitle) { appData.siteTitle[appData.settings.lang] = newTitle; reRender(); alert('网站标题已更新！'); } else { alert('标题不能为空！'); }});
    document.getElementById('reset-btn').addEventListener('click', () => { if(confirm(_t({zh:'警告：此操作将删除所有自定义内容，恢复到初始布局，确定要继续吗？', en:'Warning: This will delete all your customizations and restore the default layout. Are you sure?'}))) { localStorage.removeItem('navData'); loadData(); reRender(); alert(_t({zh:'已恢复为默认布局。', en:'Default layout has been restored.'})); modal.style.display = 'none'; } });
    document.getElementById('export-btn').addEventListener('click', () => { const dataStr = JSON.stringify(appData, null, 2); const blob = new Blob([dataStr], {type: 'application/json'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = `nav-config-${new Date().toISOString().slice(0,10)}.json`; a.click(); URL.revokeObjectURL(a.href); });
    document.getElementById('import-config-input').addEventListener('change', (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (re) => { try { const importedData = JSON.parse(re.target.result); if (importedData && Array.isArray(importedData.categories)) { if (confirm(_t({zh:'这将覆盖您当前的全部布局和链接，确定要导入吗？', en:'This will overwrite your current layout and links. Are you sure?'}))) { appData = importedData; reRender(); alert('配置已成功导入！'); modal.style.display = 'none'; } } else { alert('文件格式无效。'); } } catch (err) { alert('解析文件失败。'); } finally { e.target.value = ''; } }; reader.readAsText(file); });
    document.getElementById('import-bookmarks-input').addEventListener('change', (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (re) => { const parser = new DOMParser(); const doc = parser.parseFromString(re.target.result, "text/html"); let importedCount = 0; if (appData.categories.length === 0) appData.categories.push({ id: `c_${Date.now()}`, title: createI18nObject("导入的书签"), cards: [] }); const targetCategory = appData.categories[0]; const allUrlsInCategory = new Set(targetCategory.cards.flatMap(c => c.links.map(l => l.url))); const dts = doc.body.querySelectorAll('dl > dt'); let looseLinks = []; dts.forEach(dt => { const h3 = dt.querySelector('h3'); const a = dt.querySelector('a'); if (h3) { const folderName = h3.textContent.trim(); const newCard = { id: `card_${Date.now()}`, title: createI18nObject(folderName), links: [] }; const linkDl = dt.nextElementSibling; if(linkDl && linkDl.tagName === 'DL') { linkDl.querySelectorAll('a').forEach(linkNode => { const name = linkNode.textContent.trim(); const url = linkNode.href; if (name && url && !url.startsWith('javascript:') && !allUrlsInCategory.has(url)) { newCard.links.push({ name: createI18nObject(name), url }); allUrlsInCategory.add(url); importedCount++; } }); } if(newCard.links.length > 0) targetCategory.cards.push(newCard); } else if (a) { const name = a.textContent.trim(); const url = a.href; if (name && url && !url.startsWith('javascript:') && !allUrlsInCategory.has(url)) { looseLinks.push({ name: createI18nObject(name), url }); allUrlsInCategory.add(url); importedCount++; } } }); if (looseLinks.length > 0) { let uncatCard = targetCategory.cards.find(c => _t(c.title) === "未分类书签" || _t(c.title) === "Uncategorized"); if(!uncatCard) { uncatCard = { id: `card_uncat_${Date.now()}`, title: {zh:"未分类书签", en:"Uncategorized"}, links: [] }; targetCategory.cards.push(uncatCard); } uncatCard.links.push(...looseLinks); } if (importedCount > 0) { reRender(); alert(`${_t({zh:"成功导入",en:"Imported"})} ${importedCount} ${_t({zh:"个新书签到",en:"new bookmarks to"})} "${_t(targetCategory.title)}"!`); } else { alert(_t({zh:'没有找到新书签或所有书签已存在。', en:'No new bookmarks found or they already exist.'})); } modal.style.display = 'none'; e.target.value = ''; }; reader.readAsText(file); });
    
    const editModeBtn = document.getElementById('edit-mode-btn');
    let sortableInstances = []; let isEditMode = false;
    editModeBtn.addEventListener('click', () => { isEditMode = !isEditMode; document.body.classList.toggle('edit-mode', isEditMode); editModeBtn.classList.toggle('active', isEditMode); if (isEditMode) initDragAndDrop(); else destroyDragAndDrop(); });
    function initDragAndDrop() { destroyDragAndDrop(); sortableInstances.push(new Sortable(mainContent.querySelector('.top-right-controls').nextElementSibling, { animation: 150, handle: '.drag-handle', onEnd: (evt) => { moveItem(appData.categories, evt.oldIndex, evt.newIndex); reRender(); if(isEditMode) initDragAndDrop(); }})); document.querySelectorAll('.card-grid').forEach(grid => { const catIndex = grid.closest('.content-section').dataset.catIndex; sortableInstances.push(new Sortable(grid, { group: 'cards', animation: 150, handle: '.drag-handle', onEnd: (evt) => { moveItem(appData.categories[catIndex].cards, evt.oldIndex, evt.newIndex); reRender(); if(isEditMode) initDragAndDrop(); }})); }); }
    function destroyDragAndDrop() { sortableInstances.forEach(s => s.destroy()); sortableInstances = []; }
    
    function updateTopControls() { document.getElementById('lang-switch-btn').textContent = appData.settings.lang === 'zh' ? 'EN' : '中'; document.getElementById('theme-switch-btn').textContent = appData.settings.isDark ? '☀️' : '🌙'; }
    document.addEventListener('click', e => { if(e.target.id === 'lang-switch-btn') { appData.settings.lang = appData.settings.lang === 'zh' ? 'en' : 'zh'; reRender(); } if(e.target.id === 'theme-switch-btn') { appData.settings.isDark = !appData.settings.isDark; appData.settings.theme = appData.settings.isDark ? (appData.settings.theme === 'retro' ? 'dark' : appData.settings.theme) : (appData.settings.theme === 'hacker' ? 'default' : appData.settings.theme); saveData(); applyTheme(); updateTopControls(); } });
    
    loadData(); renderAll();
});
</script>

</body>
</html>
